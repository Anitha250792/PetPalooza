{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

{% block content %}

<!-- ================= HERO CAROUSEL ================= -->
<div id="heroCarousel"
     class="carousel slide carousel-fade"
     data-bs-ride="carousel"
     data-bs-interval="5000">

    <div class="carousel-inner">
        {% for slide in slides %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <img src="{{ slide.image.url }}"
                 class="d-block w-100 hero-img"
                 alt="Hero Slide">
        </div>
        {% endfor %}
    </div>

    <div class="carousel-indicators custom-indicators">
        {% for slide in slides %}
        <button type="button"
                data-bs-target="#heroCarousel"
                data-bs-slide-to="{{ forloop.counter0 }}"
                class="{% if forloop.first %}active{% endif %}">
        </button>
        {% endfor %}
    </div>

</div>


<!-- ================= SHOP BY PET ================= -->
<section class="shop-by-pet-section">
    <div class="container">
        <h2 class="section-title">Shop by Pet</h2>

        <div class="pet-slider-wrapper">
            <button class="slider-btn left-btn" onclick="scrollPets(-1)">&#10094;</button>

            <div class="pet-slider" id="petSlider">
                {% for pet in pets %}
                <div class="pet-card">
                    <div class="pet-img-box">
                        <img src="{{ pet.image.url }}">
                    </div>
                    <p>{{ pet.name }}</p>
                </div>
                {% endfor %}
            </div>

            <button class="slider-btn right-btn" onclick="scrollPets(1)">&#10095;</button>
        </div>
    </div>
</section>


<!-- ================= TOP RATED PRODUCTS ================= -->
<section class="top-rated-section">
    <h2 class="section-title">Top Rated Calming Products</h2>

    <div class="top-rated-wrapper">

        <!-- LEFT BANNER -->
        <div class="calm-banner">
            {% if promo %}
                <img src="{{ promo.image.url }}" alt="Calm Banner">
                <div class="banner-text">
                    <h3>{{ promo.title }}</h3>
                    <p>{{ promo.description }}</p>
                </div>
            {% endif %}
        </div>

        <!-- RIGHT PRODUCTS -->
        <div class="products-area">
            <button class="product-arrow left-arrow">❮</button>

            <div class="products-slider" id="productSlider">
                {% for product in top_products %}
                <div class="product-card">
                    <img src="{{ product.image.url }}">
                    <h5>{{ product.name }}</h5>
                    <div class="stars">★★★★★</div>
                    <p class="price">₹ {{ product.price }}</p>
                </div>
                {% endfor %}
            </div>

            <button class="product-arrow right-arrow">❯</button>
        </div>

    </div>
</section>


<!-- ================= AUTOSHIP PROMO SECTION ================= -->
<section class="autoship-section">
    {% if promo %}
    <div class="autoship-container">

        <div class="autoship-left">
            <h2>{{ promo.title }}</h2>
            <p>{{ promo.description }}</p>
            <button class="autoship-btn">{{ promo.button_text }}</button>
        </div>

        <div class="autoship-right">
            <img src="{{ promo.image.url }}">
            <div class="save-badge">
                Save <br> 35%
            </div>
        </div>

    </div>
    {% endif %}
</section>


<!-- ================= PET SERVICES SECTION ================= -->
<section class="pet-services-section">
    <div class="container">

        <div class="services-header">
            <h2>Pet Services</h2>
            <p>Treats Rewards members earn points on every service</p>
        </div>

        <div class="services-grid">
            {% for service in services %}
            <div class="service-card">
                <div class="service-img">
                    <img src="{{ service.image.url }}" alt="{{ service.title }}">
                    <div class="service-label">{{ service.title }}</div>
                </div>
                <div class="service-desc">
                    <p>{{ service.description }}</p>
                </div>
            </div>
            {% endfor %}
        </div>

    </div>
</section>

{% endblock %}